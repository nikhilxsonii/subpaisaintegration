<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="UTF-8">
        <title>SabPaisa Response</title>
        <style>
            @font-face {
                font-family: 'Sofia Pro';
                src: url('/static/fonts/SofiaPro-Regular.woff2') format('woff2'),
                         url('/static/fonts/SofiaPro-Regular.woff') format('woff');
                font-weight: 400;
                font-style: normal;
                font-display: swap;
            }
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                background: linear-gradient(135deg, #f57c00 0%, #1976d2 100%);
                margin: 0;
                padding: 0;
                min-height: 100vh;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            .container {
                background-color: #fff;
                width: 760px;
                max-width: 94%;
                border-radius: 14px;
                box-shadow: 0 10px 30px rgba(0,0,0,0.25);
                padding: 36px 30px;
                box-sizing: border-box;
            }
            h1 {
                font-family: 'Sofia Pro', Arial, sans-serif;
                font-weight: 700;
                font-size: 2rem;
                text-align: center;
                margin: 0 0 18px 0;
            }
            h1 .orange { color: #f57c00; }
            h1 .blue { color: #1976d2; }
            .meta {
                text-align: center;
                color: #666;
                margin-bottom: 18px;
                font-size: 0.95rem;
            }
            textarea {
                width: 100%;
                padding: 16px;
                border: 2px solid #e0e0e0;
                border-radius: 10px;
                resize: vertical;
                min-height: 260px;
                font-family: monospace;
                font-size: 0.95rem;
                box-sizing: border-box;
                background-color: #fafafa;
                color: #111;
            }
            .actions {
                display:flex;
                gap:10px;
                margin-top:14px;
                justify-content:flex-end;
            }
            .btn {
                background:#1976d2;
                color:white;
                border:none;
                padding:10px 14px;
                border-radius:8px;
                cursor:pointer;
                font-weight:600;
            }
            .btn.secondary { background:#f5f5f5; color:#222; border:1px solid #ddd }
        </style>
</head>
<body>

<div class="container">
    <h1><span class="orange">Sab</span><span class="blue">Paisa</span> Response</h1>
    <div class="meta">Decrypted response received from payment gateway</div>

    {% block content %}
    <textarea readonly rows="12">{{ dec_data }}</textarea>
    <div class="actions">
        <button class="btn secondary" onclick="window.history.back()">Back</button>
        <button class="btn" id="copyBtn">Copy</button>
    </div>
    {% endblock %}
</div>

<script>
    const copyBtn = document.getElementById('copyBtn');
    copyBtn.addEventListener('click', () => {
        const txt = document.querySelector('textarea').value;
        navigator.clipboard.writeText(txt).then(() => {
            const prev = copyBtn.textContent;
            copyBtn.textContent = 'Copied';
            setTimeout(() => copyBtn.textContent = prev, 1400);
        }).catch(() => alert('Copy failed'));
    });
</script>

</body>
</html>